<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE application PUBLIC "-//MMBase//DTD application config 1.1//EN" "http://www.mmbase.org/dtd/application_1_1.dtd">
<application name="MMBob" maintainer="submarine.nl" version="2" auto-deploy="true">
    <requirements>
        <requires name="Resources" maintainer="didactor.nl" version="2" />
        <!-- <requires type="application" name="CloudSecurity" maintainer="mmbase.org" version="1" /> -->
        <requires name="DidactorCore" maintainer="didactor.nl" version="8" />
        <requires name="DidactorComponent" maintainer="didactor.nl" version="2" />
    </requirements>  
    <neededbuilderlist>
        <builder maintainer="submarine.nl" version="1">forummessagebox</builder>
        <builder maintainer="submarine.nl" version="1">forumprivatemessage</builder>
        <builder maintainer="submarine.nl" version="1">posters</builder>
        <builder maintainer="submarine.nl" version="1">postings</builder>
        <builder maintainer="submarine.nl" version="1">postareas</builder>
        <builder maintainer="submarine.nl" version="1">postthreads</builder>
        <builder maintainer="submarine.nl" version="1">forums</builder>
        <builder maintainer="submarine.nl" version="1">images</builder>
        <builder maintainer="submarine.nl" version="1">icaches</builder>
        <builder maintainer="submarine.nl" version="1">posrel</builder>
        <builder maintainer="submarine.nl" version="1">rolerel</builder>
    </neededbuilderlist>
    <neededreldeflist>
        <reldef source="related" target="related" direction="bidirectional" guisourcename="Related" guitargetname="Related" builder="insrel" />
        <reldef source="rolerel" target="rolerel" direction="bidirectional" guisourcename="RoleRel" guitargetname="RoleRel" builder="rolerel" />
        <reldef source="posrel" target="posrel" direction="bidirectional" guisourcename="Posrel" guitargetname="Posrel" builder="posrel" />
    </neededreldeflist>
    <allowedrelationlist>
        <relation from="forummessagebox" to="forumprivatemessage" type="related" />
        <relation from="posters" to="forummessagebox" type="posrel" />
        <relation from="forums" to="posters" type="rolerel" />
        <relation from="forums" to="posters" type="related" />
        <relation from="postareas" to="posters" type="rolerel" />
        <relation from="images" to="posters" type="rolerel" />
        <relation from="forums" to="postareas" type="related" />
        <relation from="postthreads" to="postings" type="related" />
        <relation from="postareas" to="postthreads" type="related" />

        <relation from="educations" to="forums" type="related" />
        <relation from="classes" to="forums" type="related" />
        <relation from="people" to="posters" type="related" />

        <relation from="postings" to="attachments" type="related" />

        <relation from="classes" to="components" type="settingrel" />

    </allowedrelationlist>
    <datasourcelist>
        <datasource builder="forummessagebox" path="MMBob/forummessagebox.xml" />
        <datasource builder="forumprivatemessage" path="MMBob/forumprivatemessage.xml" />
        <datasource builder="posters" path="MMBob/posters.xml" />
        <datasource builder="postings" path="MMBob/postings.xml" />
        <datasource builder="postareas" path="MMBob/postareas.xml" />
        <datasource builder="postthreads" path="MMBob/postthreads.xml" />
        <datasource builder="forums" path="MMBob/forums.xml" />
        <datasource builder="images" path="MMBob/images.xml" />
        <datasource builder="components" path="MMBob/components.xml" />
    </datasourcelist>
    <relationsourcelist>
        <relationsource builder="insrel" path="MMBob/insrel.xml" />
        <relationsource builder="posrel" path="MMBob/posrel.xml" />
        <relationsource builder="rolerel" path="MMBob/rolerel.xml" />
    </relationsourcelist>
    <contextsourcelist>
        <contextsource path="MMBob/backup.xml" type="depth" goal="backup" />
    </contextsourcelist>
    <description>
        <![CDATA[The MMBob application saves and restores MMBob.]]>
    </description>
    <install-notice>
        <![CDATA[The MMBob application is installed.]]>
    </install-notice>
</application>
