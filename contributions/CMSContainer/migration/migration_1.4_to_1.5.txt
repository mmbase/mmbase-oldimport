Migration document:

Part: core
From version: 1.4
To version: 1.5


Execute the following steps below in the given order:


Name: Add maxlength and thank_text column to formfield for Response Form portlet
Goal: Add maxlength column to formfield
Type:  sql-script
--- Start script ---
ALTER TABLE mm_formfield ADD column maxlength int(11);
ALTER TABLE mm_responseform ADD COLUMN thank_text TEXT NULL;
ALTER TABLE mm_urls MODIFY url TEXT NOT NULL;

ALTER TABLE live_formfield ADD column maxlength int(11);
ALTER TABLE live_responseform ADD COLUMN thank_text TEXT NULL;
ALTER TABLE live_urls MODIFY url TEXT NOT NULL;

--- End script ---
Exceptions/errors/other problems and what to do:
*
*
*

Name: Enlarge mimetype field for attachments
Goal: Enlarge mimetype field for attachments
Type:  sql-script
--- Start script ---
ALTER TABLE mm_attachments MODIFY mimetype varchar(128);

ALTER TABLE live_attachments MODIFY mimetype varchar(128);
--- End script ---
Exceptions/errors/other problems and what to do:
*
*
*

Name: Add database index to the remote publishing
Goal: Make the Admin publish queue overview faster
Type:  sql-script
--- Start script ---
CREATE INDEX mm_publishqueue_report_idx ON mm_publishqueue (m_status,m_timestamp);

--- End script ---
*
*
*

Name: Add expirationcache fields for http expire header
Goal: Add expirationcache fields for http expire header
Type:  sql-script
--- Start script ---
ALTER TABLE mm_view ADD column expirationcache int(11);
ALTER TABLE mm_portletdefinition ADD column expirationcache int(11);
ALTER TABLE mm_portlet ADD column expirationcache int(11);

ALTER TABLE live_view ADD column expirationcache int(11);
ALTER TABLE live_portletdefinition ADD column expirationcache int(11);
ALTER TABLE live_portlet ADD column expirationcache int(11);
--- End script ---
Exceptions/errors/other problems and what to do:
*
*
*
